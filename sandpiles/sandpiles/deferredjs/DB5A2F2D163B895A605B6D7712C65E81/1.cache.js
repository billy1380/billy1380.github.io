$wnd.sandpiles.runAsyncCallback1("function ob(){}\nfunction bq(){}\nfunction Lq(){}\nfunction yr(){}\nfunction Br(){}\nfunction Kr(){}\nfunction Hr(a,b){a.e=b}\nfunction S(a,b){V(a.o,b)}\nfunction lo(a,b){Ld(a.o,b)}\nfunction mo(a,b){Xd(a.o,b)}\nfunction hq(a,b){iv(a.f,b)}\nfunction Aq(a){this.c=a}\nfunction Dq(a){this.a=a}\nfunction Fq(a){this.a=a}\nfunction Hq(a){this.a=a}\nfunction zr(a){this.a=a}\nfunction Pr(){this.a=new Kr}\nfunction gs(){gs=am;fs=new H}\nfunction aq(){aq=am;_p=new Ye}\nfunction Mq(){Mq=am;Jq=new Lq}\nfunction Go(){Go=am;ke();tg()}\nfunction yq(a){a.a=1;a.b=0}\nfunction Ct(a,b){a.a+=b;return a}\nfunction Nr(a,b){Hr(a.a,b);return a}\nfunction ms(a){a.a&&hs(a);return a.c}\nfunction yp(a){a.a.W(a.d,a.c,a.b)}\nfunction xs(a){Bb.call(this,a)}\nfunction le(a,b){ce.call(this,a,b)}\nfunction qg(a,b){ce.call(this,a,b)}\nfunction ns(){gs();os.call(this,10)}\nfunction pe(){le.call(this,'LEFT',2)}\nfunction qe(){le.call(this,'RIGHT',3)}\nfunction ne(){le.call(this,'CENTER',0)}\nfunction oe(){le.call(this,'JUSTIFY',1)}\nfunction Ur(a,b,c){ce.call(this,a,b);this.a=c}\nfunction Or(a,b,c){Fr(a.a,b,c);return a}\nfunction ks(a,b){a.a&&hs(a);return a.b[b]}\nfunction cd(a,b){a.a=fd(a.a,[b,true]);$c(a)}\nfunction Xd(a,b){a.innerText=b||''}\nfunction ux(a,b){if(!a){throw Gl(new xs(b))}}\nfunction Ao(a){this.o=a;this.a=new zo(this.o)}\nfunction zo(a){this.a=a;this.b=Of(a);this.c=this.b}\nfunction Cp(a,b,c,d){this.a=a;this.d=b;this.c=c;this.b=d}\nfunction If(a,b,c,d){return new Hf(rf(a.a,b,c,d))}\nfunction vr(a){return !!a.c&&a.c.a.length>0}\nfunction Bo(a){Ao.call(this,(lt('span',Wd(a)),a))}\nfunction rg(){pg();return Vg(Pg(Si,1),Wx,49,0,[og,ng,mg])}\nfunction Vr(){Tr();return Vg(Pg(wk,1),Wx,52,0,[Sr,Rr,Qr])}\nfunction me(){ke();return Vg(Pg(yi,1),Wx,23,0,[ge,he,ie,je])}\nfunction ke(){ke=am;ge=new ne;he=new oe;ie=new pe;je=new qe}\nfunction pg(){pg=am;og=new qg('RTL',0);ng=new qg('LTR',1);mg=new qg('DEFAULT',2)}\nfunction Tr(){Tr=am;Sr=new Ur('Triangle',0,3);Rr=new Ur('Square',1,4);Qr=new Ur('Hexagon',2,6)}\nfunction gq(a){fq();var b;switch(a.c){case 0:default:!eq&&(eq=new wq);b=eq;}return b}\nfunction uq(a,b,c,d){var e;a.a.c=b;for(e=0;e<c;e++){Fr(a.a,d,e)}return a}\nfunction sq(a,b,c){var d;a.a.c=b;for(d=0;d<c;d++){Or(a,Math.floor(Math.random()*4)|0,d)}return a}\nfunction qs(a){var b;for(b=4;b<32;b++)if(a<=(1<<b)-12)return (1<<b)-12;return a}\nfunction zq(a){var b;for(b=0;b<(oq(),nq);b++){Jr(a.c.e)&&++a.a;++a.b}qq(a.c.e,lq*lq)}\nfunction js(a,b){var c;c=ps(a.b,a.c,b);return c<0||Oh(a.d[c])===Oh(fs)?null:a.d[c]}\nfunction is(a,b){var c;return c=ps(a.b,a.c,b),c<0||Oh(a.d[c])===Oh(fs)?null:a.d[c]}\nfunction ss(a,b){var c;c=a.a.length;b<c?(a.a=tt(a.a,0,b)):b>c&&(a.a+=At(Rg(Rh,by,29,b-c,15,1)))}\nfunction nv(a,b){var c;c=lv(a,b,0);if(c==-1){return false}wx(c,a.a.length);rx(a.a,c,1);return true}\nfunction Fh(a){var b;Cx(a==null||Array.isArray(a)&&(b=Qg(a),!(b>=14&&b<=16)));return a}\nfunction Wd(a){var b,c;c=a.tagName;b=a.scopeName;if(b==null||lt('html',b)){return c}return b+':'+c}\nfunction Of(a){var b;b=Jd(a,'dir');if(lt('rtl',b)){return pg(),og}else if(lt('ltr',b)){return pg(),ng}return pg(),mg}\nfunction Kq(a){if(!a.a){a.a=true;we();Nb(te,'.AH1AKBC-e-a{margin-bottom:10px}');ze();return true}return false}\nfunction rf(a,b,c,d){if(!c){throw Gl(new ht('Cannot add a handler with a null source'))}return tf(a,b,c,d)}\nfunction Ir(a,b,c){var d;Eh(is(a.d,b.a),25).a>3?(d=eu(c.a,b,c),d==null):au(c.a,b)&&gu(c.a,b)!=null}\nfunction Co(){Bo.call(this,Ud($doc,'div'));this.o.className='gwt-HTML';yo(this.a)}\nfunction os(a){a=qs(a*4)/4|0;this.b=Rg(Sh,by,29,a,15,1);this.d=Rg(Qk,Wx,1,a,5,1);this.c=0}\nfunction oq(){oq=am;lq=600/mq|0;kq=Vg(Pg(Vk,1),Wx,2,6,[pb('#CC33FF'),pb('#9926FF'),pb('#5214FF'),pb('#0000FF')])}\nfunction ps(a,b,c){var d,e,f;e=b;f=-1;while(e-f>1){d=(e+f)/2|0;a[d]<c?(f=d):(e=d)}return e==b?~b:a[e]==c?e:~e}\nfunction wf(a,b,c,d){var e,f,g;e=Af(a,b,c);f=e.nb(d);f&&e.mb()&&(g=Eh(bu(a.d,b),53),Eh(zw(g.a,c),28),g.a.c+g.b.c==0&&gu(a.d,b),undefined)}\nfunction ur(a,b){!a.c&&(a.c=new ov);iv(a.c,b);if(a.b&&!a.a){a.b=false;!a.a&&!!a.c&&a.c.a.length>0&&cd((Vc(),Uc),new zr(a))}}\nfunction wr(a,b){var c;if(a.c){c=false;if(!a.b){a.b=true;c=true}nv(a.c,b);c&&(a.b=false,!a.a&&!!a.c&&a.c.a.length>0&&cd((Vc(),Uc),new zr(a)))}}\nfunction lt(a,b){xx(a);if(b==null){return false}if(kt(a,b)){return true}return a.length==b.length&&kt(a.toLowerCase(),b.toLowerCase())}\nfunction pq(a){var b,c;switch(a){case 0:case 1:case 2:case 3:b=kq[a];break;default:c=255-(a-3)%256;b=pb('rgb('+c+','+c+','+c+')');}return b}\nfunction Pf(a,b){switch(b.c){case 0:{a['dir']='rtl';break}case 1:{a['dir']='ltr';break}case 2:{Of(a)!=(pg(),mg)&&(a['dir']='',undefined);break}}}\nfunction Fr(a,b,c){var d;if(!a.d){a.d=new ns;a.a=new ow;a.b=new ow}if(d=Eh(is(a.d,c),25)){d.a+=b}else{d=new Br;d.a=b;ls(a.d,c,d)}Ir(a,dt(c),a.a)}\nfunction tq(a){wr((!tr&&(tr=new yr),tr),a.a);a.e=sq(Nr(new Pr,(Tr(),Rr)),lq,lq*lq).a;yq(a.a);ur((!tr&&(tr=new yr),tr),a.a);S(a.b,true);mo(a.b,hz)}\nfunction vq(a,b){wr((!tr&&(tr=new yr),tr),a.a);a.e=uq(Nr(new Pr,(Tr(),Rr)),lq,lq*lq,!b||kt(Eh(b.d,37).o.innerText,'clear')?0:4).a;yq(a.a);ur((!tr&&(tr=new yr),tr),a.a);S(a.b,true);mo(a.b,hz)}\nfunction rq(a){if(vr((!tr&&(tr=new yr),tr))){wr((!tr&&(tr=new yr),tr),a.a);S(a.b,true);mo(a.b,'resume')}else{ur((!tr&&(tr=new yr),tr),a.a);S(a.b,true);mo(a.b,hz)}}\nfunction hs(a){var b,c,d,e,f,g;d=a.c;e=0;c=a.b;g=a.d;for(b=0;b<d;b++){f=g[b];if(Oh(f)!==Oh(fs)){if(b!=e){c[e]=c[b];g[e]=f;g[b]=null}++e}}a.a=false;a.c=e}\nfunction wq(){oq();this.f=new ov;this.c=(!nb&&(nb=new ob),null);this.a=new Aq(this);qo(this,Bq(new Cq(this)));Do(this.d,new Co);S(this.d,true);vq(this,null)}\nfunction Dr(a,b,c){var d,e;e=b/c|0;d=-1;switch(a){case 0:d=b-1;break;case 1:d=b-c;break;case 2:d=b+1;break;case 3:d=b+c;}d<0?(d=-1):(a==0||a==2)&&(d/c|0)!=e&&(d=-1);return dt(d)}\nfunction Cr(a,b,c){var d,e,f;f=b/c|0;d=f%2==0;e=-1;switch(a){case 0:e=b-1;break;case 1:e=b-c;d||--e;break;case 2:e=b-c;d&&++e;break;case 3:e=b+1;break;case 4:e=b+c;d&&++e;break;case 5:e=b+c;d||--e;}e<0?(e=-1):(a==0||a==3)&&(e/c|0)!=f&&(e=-1);return dt(e)}\nfunction yo(a){a.a.innerHTML='<strong>Error!<\\/strong> Your browser does not support the HTML5 Canvas. Please upgrade your browser to view this applications.';if(a.c!=a.b){a.c=a.b;Pf(a.a,a.b)}}\nfunction qq(a,b){var c,d,e,f;for(e=0;e<b;e++){d=Eh(js(a.d,e),25).a;null.Eb(pq(d));null.Eb((c=e%(a.c>0?a.c:(a.c=Ph($wnd.Math.sqrt(ms(a.d))))),c*mq),(f=e/(a.c>0?a.c:(a.c=Ph($wnd.Math.sqrt(ms(a.d)))))|0,f*mq))}}\nfunction xr(a){var b,c,d;a.a=true;b=false;if(!a.b&&!!a.c&&a.c.a.length>0){d=Eh(kv(a.c,0),236);if(d){zq(d);c=d.b==d.a?1:d.b/d.a;if(c>=1){nv(a.c,d);!Gp&&(Gp=new Jf);nf(Gp,new bq,a)}!!a.c&&a.c.a.length>0&&(b=true)}}a.b=!b;a.a=false;return b}\nfunction Gr(a,b,c){var d;d=dt(0);switch(a.e.c){case 0:d=Er(b,c,a.c>0?a.c:(a.c=Ph($wnd.Math.sqrt(ms(a.d)))));break;case 1:d=Dr(b,c,a.c>0?a.c:(a.c=Ph($wnd.Math.sqrt(ms(a.d)))));break;case 2:d=Cr(b,c,a.c>0?a.c:(a.c=Ph($wnd.Math.sqrt(ms(a.d)))));}return d}\nfunction Er(a,b,c){var d,e,f,g,h,i,j;i=b/c|0;e=b%2==0;f=i%2==0;d=c%2==0;j=e==f;!d&&i>0&&(j=!j);g=-1;switch(a){case 0:g=b-1;break;case 1:j?(g=b+1):(g=b-c);break;case 2:j?(g=b+c):(g=b+1);}if(g<0){g=-1}else{h=1;j&&(h=2);a!=h&&(g/c|0)!=i&&(g=-1)}return dt(g)}\nfunction Nq(a,b,c,d,e,f,g){var h;h=new Gt;h.a+=\"<div class='\";Ft(h,ym(a));h.a+=\"'> <div class='btn-group'> <span id='\";Ft(h,ym(b));h.a+=jz;Ft(h,ym(c));h.a+=jz;Ft(h,ym(d));h.a+=kz;Ft(h,ym(e));h.a+=kz;Ft(h,ym(f));h.a+=jz;Ft(h,ym(g));h.a+=Zy;return new im(h.a)}\nfunction Cq(a){var b;this.p=new Dq(this);this.q=new Fq(this);this.r=new Hq(this);this.s=a;b=(Mq(),Jq);Kq(b);this.a=Zd($doc);this.c=Zd($doc);this.e=Zd($doc);this.g=Zd($doc);this.j=Zd($doc);this.n=Zd($doc);this.b=new Mm(this.a);this.d=new Mm(this.c);this.f=new Mm(this.e);this.i=new Mm(this.g);this.k=new Mm(this.j);this.o=new Mm(this.n)}\nfunction Jr(a){var b,c,d,e,f,g,h,i;h=false;if(!!a.a&&iu(a.a.a)>0){for(c=(g=new uu((new mu((new Qu(a.a.a)).a)).a),new Vu(g));c.a.b;){b=(d=su(c.a),Eh(d.yb(),33));Eh(is(a.d,b.a),25).a-=a.e.a;Ir(a,b,a.b);for(e=0;e<a.e.a;e++){f=Gr(a,e,b.a);if(f.a>=0&&f.a<ms(a.d)){Eh(is(a.d,f.a),25).a+=1;Ir(a,f,a.b)}}}i=a.a;hu(i.a);a.a=a.b;a.b=i;h=true}return h}\nfunction ls(a,b,c){var d,e,f,g;d=ps(a.b,a.c,b);if(d>=0){a.d[d]=c}else{d=~d;if(d<a.c&&Oh(a.d[d])===Oh(fs)){a.b[d]=b;a.d[d]=c;return}if(a.a&&a.c>=a.b.length){hs(a);d=~ps(a.b,a.c,b)}if(a.c>=a.b.length){e=qs((a.c+1)*4)/4|0;f=Rg(Sh,by,29,e,15,1);g=Rg(Qk,Wx,1,e,5,1);Kt(a.b,0,f,0,a.b.length);Kt(a.d,0,g,0,a.d.length);a.b=f;a.d=g}if(a.c-d!=0){Kt(a.b,d,a.b,d+1,a.c-d);Kt(a.d,d,a.d,d+1,a.c-d)}a.b[d]=b;a.d[d]=c;++a.c}}\nfunction Kt(a,b,c,d,e){var f,g,h,i,j,k,l,m,n;yx(a,'src');yx(c,'dest');m=K(a);i=K(c);ux((m.e&4)!=0,'srcType is not an array');ux((i.e&4)!=0,'destType is not an array');l=m.c;g=i.c;ux((l.e&1)!=0?l==g:(g.e&1)==0,\"Array types don't match\");n=a.length;j=c.length;if(b<0||d<0||e<0||b+e>n||d+e>j){throw Gl(new Xs)}if((l.e&1)==0&&m!=i){k=Fh(a);f=Fh(c);if(Oh(a)===Oh(c)&&b<d){b+=e;for(h=d+e;h-->d;){Ug(f,h,k[--b])}}else{for(h=d+e;d<h;){Ug(f,d++,k[b++])}}}else e>0&&ox(a,b,c,d,e,true)}\nfunction Bq(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o;d=new Fo(Nq((e=(Mq(),Jq),Kq(e),'btn-toolbar AH1AKBC-e-a'),a.a,a.c,a.e,a.g,a.j,a.n).a);d.o.className='container text-center';b=Om(d.o);Lm(a.b);Lm(a.d);Lm(a.f);Lm(a.i);Lm(a.k);Lm(a.o);b.b?Fd(b.b,b.a,b.c):Qm(b.a);Eo(d,(f=new oo,lo(f,(g=new Gt,g.a+='random',new im(g.a)).a),f.o.className=iz,X(f,a.p,(Se(),Se(),Re)),f),Lm(a.b));Eo(d,(h=new oo,lo(h,(i=new Gt,i.a+='uniform',new im(i.a)).a),h.o.className=iz,X(h,a.q,(null,Re)),h),Lm(a.d));Eo(d,(j=new oo,lo(j,(k=new Gt,k.a+='clear',new im(k.a)).a),j.o.className=iz,X(j,a.q,(null,Re)),j),Lm(a.f));Eo(d,(l=new oo,lo(l,(m=new Gt,m.a+=hz,new im(m.a)).a),l.o.className=iz,X(l,a.r,(null,Re)),a.s.b=l,l),Lm(a.i));Eo(d,(n=new Fo((o=new Gt,new im(o.a)).a),n.o.className='alert alert-danger',undefined,V(n.o,false),a.s.d=n,n),Lm(a.k));Eo(d,(c=a.s.c,c),Lm(a.o));return d}\nvar ez='com.google.gwt.canvas.client',fz={73:1,23:1,3:1,20:1,17:1},gz='com.willshex.sandpiles.client.page',hz='pause',iz='btn btn-default',jz=\"'><\\/span> <span id='\",kz=\"'><\\/span> <\\/div> <span id='\",lz='com.willshex.sandpiles.client.processor',mz='com.willshex.sandpiles.shared';var nb;_l(230,1,{});var Uh=Es(ez,'Canvas/CanvasElementSupportDetector',230);_l(192,230,{},ob);var Th=Es(ez,'Canvas/CanvasElementSupportDetectedNo',192);_l(23,17,fz);var ge,he,ie,je;var yi=Fs(fy,'Style/TextAlign',23,me);_l(165,23,fz,ne);var ui=Fs(fy,'Style/TextAlign/1',165,null);_l(166,23,fz,oe);var vi=Fs(fy,'Style/TextAlign/2',166,null);_l(167,23,fz,pe);var wi=Fs(fy,'Style/TextAlign/3',167,null);_l(168,23,fz,qe);var xi=Fs(fy,'Style/TextAlign/4',168,null);_l(64,216,{});_.W=function Ef(a,b,c){this.b>0?sf(this,new Cp(this,a,b,c)):wf(this,a,b,c)};_l(127,64,{});_.W=function Gf(a,b,c){this.b>0?sf(this,new Cp(this,a,b,c)):wf(this,a,b,c)};_l(49,17,{49:1,3:1,20:1,17:1},qg);var mg,ng,og;var Si=Fs(ty,'HasDirection/Direction',49,rg);_l(198,1,{},zo);var rj=Es(Tx,'DirectionalTextHelper',198);_l(96,8,Ux);var zj=Es(Tx,'LabelBase',96);_l(197,96,Ux);var Aj=Es(Tx,'Label',197);_l(97,197,Ux,Co);var uj=Es(Tx,'HTML',97);_l(86,1,{200:1},Cp);_.Q=function Dp(){wf(this.a,this.d,this.c,this.b)};var Qj=Es(gy,'SimpleEventBus/3',86);_l(130,1,{77:1});_.O=function Tp(){fu(this.a.b,this.c.a,gq(this.c));Pp(this.a,this.c,this.b)};var _p;_l(190,215,{},bq);_.T=function cq(a){S(Eh(a,235).b,false)};_.U=function dq(){return aq(),_p};var Zj=Es(Wy,'TaskCompleteEventHandler/TaskComplete',190);var eq=null;_l(187,35,Oy);_.D=function iq(){so(this);$doc.title='Sandpile'};_.G=function jq(){var a,b;ab(this.g);for(b=new Cv(this.f);b.a<b.c.a.length;){a=Eh(Bv(b),233);yp(a.a)}};var fk=Es(gz,'Page',187);_l(188,187,{13:1,45:1,9:1,12:1,35:1,11:1,14:1,10:1,8:1,235:1},wq);_.D=function xq(){so(this);$doc.title='Sandpile';hq(this,(!Gp&&(Gp=new Jf),If(Gp,(aq(),_p),(!tr&&(tr=new yr),tr),this)))};var kq,lq=0,mq=10,nq=1;var ek=Es(gz,'HomePage',188);_l(189,1,{236:1},Aq);_.a=1;_.b=0;var $j=Es(gz,'HomePage/1',189);_l(193,1,{},Cq);var ck=Es(gz,'HomePage_HomePageUiBinderImpl/Widgets',193);_l(194,1,Yy,Dq);_.V=function Eq(a){tq(this.a.s)};var _j=Es(gz,'HomePage_HomePageUiBinderImpl/Widgets/1',194);_l(195,1,Yy,Fq);_.V=function Gq(a){vq(this.a.s,a)};var ak=Es(gz,'HomePage_HomePageUiBinderImpl/Widgets/2',195);_l(196,1,Yy,Hq);_.V=function Iq(a){rq(this.a.s)};var bk=Es(gz,'HomePage_HomePageUiBinderImpl/Widgets/3',196);var Jq;_l(199,1,{},Lq);_.a=false;var dk=Es(gz,'HomePage_HomePageUiBinderImpl_GenBundle_default_InlineClientBundleGenerator/1',199);_l(30,1,{},yr);_.a=false;_.b=true;_.c=null;var tr=null;var sk=Es(lz,'Processor',30);_l(98,1,{},zr);_.P=function Ar(){return xr(this.a)};var rk=Es(lz,'Processor/1',98);_l(25,1,{25:1},Br);_.a=0;var tk=Es(mz,'Pile',25);_l(44,1,{44:1},Kr);_.t=function Lr(a){var b,c,d,e;b=this===a;if(!b&&Ih(a,44)){b=this.d==Eh(a,44).d;if(!b){b=ms(this.d)==ms(Eh(a,44).d);if(b){for(c=0;c<ms(this.d);c++){e=Eh(is(this.d,ks(this.d,c)),25);d=Eh(is(Eh(a,44).d,ks(this.d,c)),25);if(!e&&!!d||!!e&&!d||!!e&&!!d&&e.a!=d.a){b=false;break}}}}}return b};_.v=function Mr(){var a,b,c,d;a=new Dt;d=this.c>0?this.c:(this.c=Ph($wnd.Math.sqrt(ms(this.d))));for(b=0;b<ms(this.d);b++){if(b%d==0&&a.a.length>0){ss(a,a.a.length-1);a.a+='\\n';for(c=0;c<d*2-1;c++){a.a+='-'}a.a+='\\n'}Ct(a,Eh(is(this.d,b),25).a);a.a+='|'}ss(a,a.a.length-1);return a.a};_.c=-1;var vk=Es(mz,'Sand',44);_l(99,1,{},Pr);var uk=Es(mz,'Sand/Builder',99);_l(52,17,{52:1,3:1,20:1,17:1},Ur);_.a=0;var Qr,Rr,Sr;var wk=Fs(mz,'Tileable',52,Vr);_l(100,1,{},ns);_.a=false;_.c=0;var fs;var zk=Es('com.willshex.sandpiles.shared.util','SparseArray',100);_l(87,5,$x,xs);_l(219,1,{});_.nb=function St(a){return Nt(this,a,true)};_l(40,220,az);_.nb=function pu(a){var b;if(lu(this,a)){b=Eh(a,26).yb();gu(this.a,b);return true}return false};_l(89,220,az);_.nb=function Tu(a){if(au(this.a,a)){gu(this.a,a);return true}return false};_l(36,221,cz);_.nb=function xv(a){return nv(this,a)};_l(48,220,{3:1,58:1});_.nb=function tw(a){return nw(this,a)};Nx(ic)(1);\n//# sourceURL=sandpiles-1.js\n")
